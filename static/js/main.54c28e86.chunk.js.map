{"version":3,"sources":["App.js","index.js","logo.png","single-ding-sound-effect.mp3"],"names":["App","$_audio","useRef","useState","JSON","parse","localStorage","getItem","savedData","setSavedData","useEffect","lastCompleted","setItem","stringify","currentKey","_","get","secondsRemaining","intervalRef","start","setTimer","t","setInterval","decrementSeconds","pause","clearInterval","reset","timer","_isRunning","Boolean","timeText","floor","currentActivityIndex","findIndex","activitiesList","key","previousActivity","nth","currentActivity","find","head","nextActivity","concat","current","play","className","src","logo","alt","onClick","ref","bell","flatten","map","name","hasStretch","part","type","label","startCase","activityBuilder","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.54c28e86.chunk.js","sourcesContent":["\n// dev\nimport React, { useState, useEffect, useRef } from \"react\";\nimport _ from \"lodash\";\n\n// app\nimport logo from \"./logo.png\";\nimport bell from \"./single-ding-sound-effect.mp3\";\n\n//\n// App\n//\n\nconst activityDurationSeconds = 60 * 2.5;\n\nexport default function App () {\n\tconst $_audio = useRef();\n\n\tconst [ savedData, setSavedData ] = useState( JSON.parse( localStorage.getItem( \"savedData\" )));\n\tuseEffect(() => {\n\t\tif ( !savedData ) setSavedData({ lastCompleted: null });\n\t\tlocalStorage.setItem( \"savedData\", JSON.stringify( savedData ));\n\t}, [ savedData ]);\n\tconst currentKey = _.get( savedData, \"currentKey\" );\n\t\n\tconst [ timer, setTimer ] = useState({ \n\t\tsecondsRemaining: activityDurationSeconds,\n\t\tintervalRef: null,\n\t\tstart: () => setTimer( t => ({ ...t, intervalRef: setInterval( t.decrementSeconds, 1000 ) })),\n\t\tpause: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null };\n\t\t}),\n\t\treset: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null, secondsRemaining: activityDurationSeconds };\n\t\t}),\n\t\tdecrementSeconds: () => setTimer( t => ({ ...t, secondsRemaining: t.secondsRemaining - 1 })),\n\t});\n\tconst { secondsRemaining, intervalRef, start, pause, reset } = timer;\n\tconst _isRunning = Boolean( intervalRef );\n\tconst timeText = `${ _.floor( secondsRemaining / 60 )}:${ secondsRemaining%60 < 10 ? `0${ secondsRemaining%60 }` : secondsRemaining%60 }`;\n\n\tconst currentActivityIndex = _.findIndex( activitiesList, { key: currentKey });\n\n\tconst previousActivity = _.nth( activitiesList, currentActivityIndex - 1 );\n\tconst currentActivity = currentKey ? _.find( activitiesList, { key: currentKey }) : _.head( activitiesList );\n\tconst nextActivity = _.nth( _.concat( activitiesList, activitiesList ), currentActivityIndex + 1 );\n\n\tuseEffect(() => { \n\t\tif ( secondsRemaining < 0 ) {\n\t\t\t$_audio.current.play();\n\t\t\tsetSavedData({ ...savedData, lastCompleted: _.get( currentActivity, \"key\" ) });\n\t\t\treset(); \n\t\t}\n\t}, [ secondsRemaining ]);\n\n\tconst _handleNext = () => {\n\t\tsetSavedData({ ...savedData, currentKey: _.get( nextActivity, \"key\" ) });\n\t\treset();\n\t};\n\n\tconst _handleBack = () => {\n\t\tif ( _isRunning ) reset();\n\t\telse setSavedData({ ...savedData, currentKey: _.get( previousActivity, \"key\" ) });\n\t};\n\n\treturn (\n\t\t<div className=\"body\">\n\t\t\t<div className=\"header\">\n\t\t\t\t<img src={ logo } alt=\"Site logo, woman stretching\" />\t\n\t\t\t\t<p>A rolling queue of stretching and rolling activities with a timer and a memory of where you left off last time.</p>\n\t\t\t</div>\n\t\t\t<div className=\"current\">\n\t\t\t\t<p className=\"-smaller\">Previous activity: { _.get( previousActivity, \"label\" )}</p>\n\t\t\t\t<h4>Current activity: { _.get( currentActivity, \"label\" )}</h4>\n\t\t\t\t<p className=\"-smaller\">Next activity: { _.get( nextActivity, \"label\" )}</p>\n\t\t\t</div>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"timer\">\n\t\t\t\t\t<div className=\"time\">\n\t\t\t\t\t\t{ timeText }\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"controls\">\n\t\t\t\t\t\t<button onClick={ _isRunning ? reset : _handleBack }>Back</button>\n\t\t\t\t\t\t<button onClick={ _isRunning ? pause : start }>{ _isRunning ? \"Pause\" : \"Start\" }</button>\n\t\t\t\t\t\t<button onClick={ _handleNext }>Next</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<audio ref={ $_audio } src={ bell } />\n\t\t</div>\n\t);\n}\n\nconst activityBuilder = ({ name, hasStretch }) => hasStretch ? ([\n\t{ key: `${ name }-roll-right`, type: \"rolling\", label: `Foam Roll Right ${ _.startCase( name ) }` },\n\t{ key: `${ name }-roll-left`, type: \"rolling\", label: `Foam Roll Left ${ _.startCase( name ) }` },\n\t{ key: `${ name }-stretch-right`, type: \"stretching\", label: `Stretch Right ${ _.startCase( name ) }` },\n\t{ key: `${ name }-stretch-left`, type: \"stretching\", label: `Stretch Left ${ _.startCase( name ) }` },\n]) : ([\n\t{ key: `${ name }-roll-right`, type: \"rolling\", label: `Foam Roll Right ${ _.startCase( name ) }` },\n\t{ key: `${ name }-roll-left`, type: \"rolling\", label: `Foam Roll Left ${ _.startCase( name ) }` },\n]);\n\nconst bodyPartMap = [\n\t{ name: \"hamstring\", hasStretch: true },\n\t{ name: \"glute\", hasStretch: true },\n\t{ name: \"lat\", hasStretch: true },\n\t{ name: \"pec\", hasStretch: true },\n\t{ name: \"quad\", hasStretch: true },\n\t{ name: \"hip-flexor\", hasStretch: true },\n\t{ name: \"forearm\", hasStretch: true },\n\t{ name: \"tricep\", hasStretch: true },\n\t{ name: \"groin\", hasStretch: true },\n\t{ name: \"calf\", hasStretch: true },\n\t{ name: \"trap\", hasStretch: false },\n];\n\nconst activitiesList = _.flatten( _.map( bodyPartMap, part => activityBuilder( part )));\n","\n// dev\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// app\nimport \"./index.scss\";\nimport App from \"./App\";\n\n//\n// Index \n//\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById( \"root\" ),\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.88cbf5ba.png\";","module.exports = __webpack_public_path__ + \"static/media/single-ding-sound-effect.205fabcd.mp3\";"],"sourceRoot":""}