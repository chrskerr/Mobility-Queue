{"version":3,"sources":["resources/logo.png","resources/single-ding-sound-effect.mp3","views/main.js","views/settings.js","views/app.js","views/use-media.js","index.js"],"names":["audio","Audio","audioFile","useStyles","makeStyles","root","flexGrow","padding","display","flexDirection","alignItems","justifyContent","header","marginBottom","textAlign","width","filter","darkMode","timer","time","fontSize","color","controls","margin","marginTop","buttonContainer","height","borderRadius","border","background","overflow","cursor","Main","state","dispatch","classes","duration","currentKey","activitiesList","currentActivityIndex","useState","secondsRemaining","intervalRef","start","setTimer","t","setInterval","decrementSeconds","pause","clearInterval","reset","_isRunning","Boolean","timeText","_","floor","_isFirst","_isLast","size","previousActivity","last","nth","currentActivity","nextActivity","head","_handleNext","type","key","get","useEffect","play","isUndefined","className","src","logo","alt","onClick","animation","willChange","flexWrap","minWidth","input","paddingTop","paddingBottom","stretchMapInput","isBig","borderBottom","button","deleteButton","addButton","upDownButton","hidden","opacity","disabledButton","popover","maxHeight","maxWidth","from","to","Settings","useDefaultStretches","stretchesMap","useMediaQuery","anchorEl","setAnchorEl","name","frequency","bothSides","newStretch","setNewStretch","e","currentTarget","Popover","open","onClose","anchorOrigin","vertical","horizontal","transformOrigin","value","wide","onChange","Number","round","checked","isEmpty","map","concat","stretch","i","clsx","disabled","label","el","j","reject","reduce","acc","ns","useToggleStyles","toggle","borderStyle","borderColor","borderWidth","fontWeight","Toggle","useInputTextStyles","isTypeNumber","backgroundColor","InputText","target","useGuideStyles","list","Guide","viewPort","position","animated","top","right","left","bottom","zIndex","darkModeToggle","settingsToggle","queueToggle","columnCount","count","clamp","ceil","columnGap","App","useReducer","reducer","initialState","loaded","a","localforage","getItem","localState","activitiesListGenerator","findIndex","Infinity","setItem","omit","queries","values","defaultValue","mediaQueryLists","q","window","matchMedia","getValue","index","mql","matches","setValue","handler","forEach","addListener","removeListener","useMedia","setDarkMode","document","getElementById","setAttribute","isSettingsOpen","setIsSettingsOpen","useSpring","transform","config","mass","tension","friction","style","div","interpolate","o","d","hasRolling","loops","max","extendedMap","range","loop","startCase","action","payload","rootElement","hasChildNodes","hydrate","render","navigator","wb","Workbox","addEventListener","event","isUpdate","location","reload","register"],"mappings":"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","file":"static/js/main.16e6971a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.62967c48.png\";","export default __webpack_public_path__ + \"static/media/single-ding-sound-effect.ab26721d.mp3\";","\n// dev\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// app\nimport logo from \"../resources/logo.png\";\nimport audioFile from \"../resources/single-ding-sound-effect.mp3\";\nconst audio = new Audio( audioFile );\n\n//\n// Main\n//\n\nconst useStyles = makeStyles({\n\troot: {\n\t\tflexGrow: 1, padding: \"2rem 0\",\n\t\tdisplay: \"flex\", flexDirection: \"column\",\n\t\talignItems: \"center\", justifyContent: \"space-evenly\",\n\t},\n\theader: {\n\t\tmarginBottom: \"1em\",\n\t\ttextAlign: \"center\",\n\t\t\"& img \": {\n\t\t\twidth: \"min(95%, 25em)\",\n\t\t\tfilter: ({ darkMode }) => darkMode ? \"invert(1) brightness(10)\" : \"\",\n\t\t},\n\t\t\"& p\": {\n\t\t\ttextAlign: \"justify\",\n\t\t},\n\t},\n\ttimer: {\n\t\ttextAlign: \"center\",\n\t\twidth: \"100%\",\n\t},\n\n\ttime: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"min(25vw, 7em)\",\n\t\tcolor: \"var(--highlight)\",\n\t},\n\n\tcontrols: {\n\t\twidth: \"90%\", margin: \"0 auto\",\n\t\tmarginTop: \"2em\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\tbuttonContainer: {\n\t\twidth: \"min(25%, 8em)\",\n\t\theight: \"3em\",\n\t\t\"& button\": {\n\t\t\ttextAlign: \"center\",\n\t\t\tborderRadius: \"8px\", border: \"none\",\n\t\t\theight: \"100%\", width: \"100%\",\n\t\t\tbackground: \"var(--secondary)\",\n\t\t\toverflow: \"hidden\",\n\t\t\tpadding: 0,\n\t\t\tcursor: \"pointer\",\n\t\t\t\"& span\": {\n\t\t\t\tfontSize: \"120%\",\n\t\t\t},\n\t\t},\n\t},\n});\n\nexport default function Main ({ state, dispatch, darkMode }) {\n\tconst classes = useStyles({ darkMode });\n\tconst { duration, currentKey, activitiesList, currentActivityIndex } = state;\n\t\n\tconst [ timer, setTimer ] = useState({ \n\t\tsecondsRemaining: duration,\n\t\tintervalRef: null,\n\t\tstart: () => setTimer( t => ({ ...t, intervalRef: setInterval( t.decrementSeconds, 1000 ) })),\n\t\tpause: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null };\n\t\t}),\n\t\treset: duration => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null, secondsRemaining: duration };\n\t\t}),\n\t\tdecrementSeconds: () => setTimer( t => ({ ...t, secondsRemaining: t.secondsRemaining - 1 })),\n\t});\n\tconst { secondsRemaining, intervalRef, start, pause, reset } = timer;\n\tconst _isRunning = Boolean( intervalRef );\n\tconst timeText = `${ _.floor( secondsRemaining / 60 )}:${ secondsRemaining%60 < 10 ? `0${ secondsRemaining%60 }` : secondsRemaining%60 }`;\n\n\tconst _isFirst = currentActivityIndex === 0;\n\tconst _isLast = currentActivityIndex === _.size( activitiesList ) - 1;\n\n\tconst previousActivity = _isFirst ? _.last( activitiesList ) : _.nth( activitiesList, currentActivityIndex - 1 );\n\tconst currentActivity = _.nth( activitiesList, currentActivityIndex );\n\tconst nextActivity = _isLast ? _.head( activitiesList ) : _.nth( activitiesList, currentActivityIndex + 1 );\n\n\tconst _handleNext = () => {\n\t\tdispatch({ type: \"setCurrentKey\", key: _.get( nextActivity, \"key\" ) });\n\t\treset( duration );\n\t};\n\n\tconst _handleStart = () => {\n\t\tstart();\n\t\taudio.play();\n\t\taudio.pause();\n\t};\n\n\tconst _handleBack = () => {\n\t\tif ( _isRunning ) reset( duration );\n\t\telse dispatch({ type: \"setCurrentKey\", key: _.get( previousActivity, \"key\" ) });\n\t};\n\n\tuseEffect(() => { \n\t\tif ( secondsRemaining <= 0 ) {\n\t\t\taudio.play();\n\t\t\t_handleNext();\n\t\t}\n\t}, [ secondsRemaining ]);\n\n\tuseEffect(() => {\n\t\treset( duration );\n\t}, [ duration ]);\n\n\tif ( _.isUndefined( currentKey )) return null;\n\n\treturn (\n\t\t<div className={ classes.root }>\n\t\t\t<div className={ classes.header }>\n\t\t\t\t<img src={ logo } alt=\"Site logo, woman stretching\" />\t\n\t\t\t\t<p>A rolling queue of stretches with a timer, a finish bell, and a record of where you left off last time!</p>\n\t\t\t\t<p>You can configure the duration and queue in the settings (top right), the defaults are based on what I&apos;m bad at :)</p>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h4>Current activity: { _.get( currentActivity, \"label\" )}</h4>\n\t\t\t\t<p className=\"-smaller\">Next activity: { _.get( nextActivity, \"label\" )}</p>\n\t\t\t</div>\n\t\t\t<div className={ classes.timer }>\n\t\t\t\t<div className={ classes.time }>\n\t\t\t\t\t{ timeText }\n\t\t\t\t</div>\n\t\t\t\t<div className={ classes.controls }>\n\t\t\t\t\t<div className={ classes.buttonContainer }>\n\t\t\t\t\t\t<button onClick={ _isRunning ? () => reset( duration ) : _handleBack }>\n\t\t\t\t\t\t\t<span className=\"fa-chevrons-left\"/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ classes.buttonContainer }>\n\t\t\t\t\t\t<button onClick={ _isRunning ? pause : _handleStart }>\n\t\t\t\t\t\t\t<span className={ _isRunning ? \"fa-pause\" : \"fa-play\" } />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ classes.buttonContainer }>\n\t\t\t\t\t\t<button onClick={ _handleNext }><span className=\"fa-chevrons-right\" /></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nMain.propTypes = {\n\tstate: PropTypes.object,\n\tdispatch: PropTypes.func,\n\tdarkMode: PropTypes.bool,\n};\n","\n// dev\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nimport { Popover, useMediaQuery } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport clsx from \"clsx\";\n\n// app\n\n\n//\n// Settings\n//\n\nconst useStyles = makeStyles({\n\troot: {\n\t\tflexGrow: 1, padding: \"4rem 0\",\n\t\tdisplay: \"flex\", flexDirection: \"column\",\n\t\tmargin: \"0 auto\",\n\n\t\t\"& *\": {\n\t\t\tanimation: \"$fadein 150ms\",\n\t\t\twillChange: \"opacity\",\n\t\t},\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: \"1.5rem\",\n\t\t\"& > *\": {\n\t\t\tminWidth: \"13rem\",\n\t\t},\n\t\t\"& button\": {\n\t\t\tbackground: \"var(--tertiary)\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tborder: \"none\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tpadding: \"0.3rem 0.6rem\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"80%\",\n\t\t},\n\t},\n\tinput: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpaddingTop: \"0.5rem\",\n\t\tpaddingBottom: \"0.5rem\",\n\t\tflexWrap: \"wrap\",\n\t\t\"& > *\": {\n\t\t\tmargin: \"0 0.5rem 0 0.5rem\", padding: 0,\n\t\t},\n\t},\n\tstretchMapInput: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpaddingTop: \"0.5rem\",\n\t\tpaddingBottom: \"0.5rem\",\n\t\tflexWrap: \"wrap\",\n\t\tjustifyContent: ({ isBig }) => isBig ? \"space-betweem\" : \"flex-start\",\n\t\t\"& > *\": {\n\t\t\tmargin: \"0.2rem 0.5rem\", padding: 0,\n\t\t},\n\t},\n\tborderBottom: {\n\t\tborderBottom: \"1px dashed lightgrey\",\n\t},\n\tbutton: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tborder: \"none\",\n\t\tborderRadius: \"4px\",\n\t\tpadding: \"0.3rem 0.4rem\",\n\t\tcursor: \"pointer\",\n\t\tfontSize: \"70%\",\n\t\t\"& span\": {\n\t\t\tpadding: 0, margin: 0,\n\t\t},\n\t},\n\tdeleteButton: {\n\t\tbackground: \"var(--highlight)\",\n\t\twidth: \"60px\",\n\t},\n\taddButton: {\n\t\tbackground: \"var(--secondary)\",\n\t\twidth: \"60px\",\n\t},\n\tupDownButton: {\n\t\tbackground: \"white\",\n\t\tdisplay: \"inline-block\",\n\t\tpadding: 0,\n\t\tmargin: \"0.25rem\",\n\t\tborder: \"1px inset var(--paragraph)\",\n\t},\n\thidden: {\n\t\topacity: 0,\n\t\tcursor: \"default\",\n\t},\n\tdisabledButton: {\n\t\topacity: 0.25,\n\t\tcursor: \"not-allowed\",\n\t},\n\tpopover: {\n\t\t\"& .MuiPaper-root\": {\n\t\t\tmarginTop: \"8px\",\n\t\t\tpadding: \"1.5rem\",\n\t\t\tmaxHeight: \"70vh\",\n\t\t\tmaxWidth: \"70vw\",\n\t\t},\n\t},\n\t\"@keyframes fadein\": {\n\t\tfrom: {\n\t\t\topacity: 0,\n\t\t},\n\t\tto: {\n\t\t\topacity: 1,\n\t\t},\n\t},\n});\n\nexport default function Settings ({ state, dispatch }) {\n\tconst { duration, useDefaultStretches, stretchesMap } = state;\n\n\tconst isBig = useMediaQuery( \"(min-width:893px)\" );\n\tconst classes = useStyles({ isBig });\n\n\tconst [ anchorEl, setAnchorEl ] = useState( false );\n\tconst [ newStretch, setNewStretch ] = useState({ name: \"\", frequency: 1, bothSides: true });\n\n\n\treturn (\n\t\t<div className={ classes.root }>\n\t\t\t<div className={ classes.header }>\n\t\t\t\t<h4>Settings:</h4>\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={ e => setAnchorEl( e.currentTarget ) }>\n\t\t\t\t\tGuide\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Popover\n\t\t\t\tclassName={ classes.popover }\n\t\t\t\topen={ Boolean( anchorEl )}\n\t\t\t\tanchorEl={ anchorEl }\n\t\t\t\tonClose={ () => setAnchorEl( false ) }\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Guide />\n\t\t\t</Popover>\n\t\t\t<div className={ classes.input }>\n\t\t\t\t<h5>Duration:</h5>\n\t\t\t\t<InputText \n\t\t\t\t\tvalue={ duration }\n\t\t\t\t\twide\n\t\t\t\t\tonChange={ value => dispatch({ type: \"setDuration\", value: Number( value ) })}\n\t\t\t\t/>\n\t\t\t\t<p>seconds &asymp; { _.round( duration / 60, 1 ) } mins</p>\n\t\t\t</div>\n\n\t\t\t<div className={ classes.input }>\n\t\t\t\t<h5>Use Default Stretches?:</h5>\n\t\t\t\t<Toggle \n\t\t\t\t\tchecked={ useDefaultStretches } \n\t\t\t\t\tonChange={ () => dispatch({ type: \"setUseDefaultStretches\", value: !useDefaultStretches }) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ !_.isEmpty( stretchesMap ) && _.map( _.concat( stretchesMap ), ( stretch, i ) => (\n\t\t\t\t<div className={ clsx( classes.stretchMapInput, classes.borderBottom ) } key={ i }>\n\t\t\t\t\t<InputText\n\t\t\t\t\t\tdisabled={ useDefaultStretches }\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tvalue={ _.get( stretch, \"name\" ) }\n\t\t\t\t\t\tonChange={ name => dispatch({ \n\t\t\t\t\t\t\ttype: \"updateStretchesMap\", \n\t\t\t\t\t\t\tstretchesMap: _.map( stretchesMap, ( el, j ) => i != j ? el : { ...el, name }), \n\t\t\t\t\t\t})} \n\t\t\t\t\t/>\n\t\t\t\t\t<InputText \n\t\t\t\t\t\tdisabled={ useDefaultStretches }\n\t\t\t\t\t\tlabel=\"Frequency\"\n\t\t\t\t\t\tvalue={ _.get( stretch, \"frequency\" ) }\n\t\t\t\t\t\tonChange={ frequency => dispatch({ \n\t\t\t\t\t\t\ttype: \"updateStretchesMap\", \n\t\t\t\t\t\t\tstretchesMap: _.map( stretchesMap, ( el, j ) => i != j ? el : { ...el, frequency: Number( frequency ) }), \n\t\t\t\t\t\t})} \n\t\t\t\t\t/>\n\t\t\t\t\t<Toggle \n\t\t\t\t\t\tdisabled={ useDefaultStretches }\n\t\t\t\t\t\tlabel=\"Both Sides\"\n\t\t\t\t\t\tchecked={ _.get( stretch, \"bothSides\" )}\n\t\t\t\t\t\tonChange={ () => dispatch({ \n\t\t\t\t\t\t\ttype: \"updateStretchesMap\", \n\t\t\t\t\t\t\tstretchesMap: _.map( stretchesMap, ( el, j ) => i != j ? el : { ...el, bothSides: !_.get( stretch, \"bothSides\" ) }), \n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t<button \n\t\t\t\t\t\tdisabled={ useDefaultStretches }\n\t\t\t\t\t\tclassName={ clsx( classes.button, classes.deleteButton, { [ classes.disabledButton ]: useDefaultStretches }) }\n\t\t\t\t\t\tonClick={ () => { \n\t\t\t\t\t\t\tif ( !useDefaultStretches ) { \n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: \"updateStretchesMap\",\n\t\t\t\t\t\t\t\t\tstretchesMap: _.reject( stretchesMap, ( el, j ) => i === j ),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t</button>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={ clsx( classes.button, classes.upDownButton, { [ classes.disabledButton ]: useDefaultStretches || i === 0 }) }\n\t\t\t\t\t\t\tdisabled={ i === 0 }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tif ( !useDefaultStretches && i !== 0 ) {\n\t\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\t\ttype: \"updateStretchesMap\",\n\t\t\t\t\t\t\t\t\t\tstretchesMap: _.reduce( stretchesMap, ( acc, el, j ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( j === i ) return acc;\n\t\t\t\t\t\t\t\t\t\t\telse if ( j === i - 1 ) return _.concat( acc, stretch, el );\n\t\t\t\t\t\t\t\t\t\t\telse return _.concat( acc, el );\n\t\t\t\t\t\t\t\t\t\t},[]),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"fa-chevron-up\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={ clsx( classes.button, classes.upDownButton, { [ classes.disabledButton ]: useDefaultStretches || i === _.size( stretchesMap ) - 1 }) }\n\t\t\t\t\t\t\tdisabled={ i === _.size( stretchesMap ) - 1 }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tif ( !useDefaultStretches && i !== _.size( stretchesMap ) - 1 ) {\n\t\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\t\ttype: \"updateStretchesMap\",\n\t\t\t\t\t\t\t\t\t\tstretchesMap: _.reduce( stretchesMap, ( acc, el, j ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( j === i ) return acc;\n\t\t\t\t\t\t\t\t\t\t\telse if ( j === i + 1 ) return _.concat( acc, el, stretch );\n\t\t\t\t\t\t\t\t\t\t\telse return _.concat( acc, el );\n\t\t\t\t\t\t\t\t\t\t},[]),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"fa-chevron-down\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t<div className={ classes.stretchMapInput }>\n\t\t\t\t<InputText\n\t\t\t\t\tdisabled={ useDefaultStretches}\n\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\tvalue={ _.get( newStretch, \"name\" ) }\n\t\t\t\t\tonChange={ name => setNewStretch( ns => ({ ...ns, name })) } \n\t\t\t\t/>\n\t\t\t\t<InputText \n\t\t\t\t\tdisabled={ useDefaultStretches}\n\t\t\t\t\tlabel=\"Frequency\"\n\t\t\t\t\tvalue={ _.get( newStretch, \"frequency\" ) }\n\t\t\t\t\tonChange={ frequency => setNewStretch( ns => ({ ...ns, frequency: Number( frequency ) })) } \n\t\t\t\t/>\n\t\t\t\t<Toggle \n\t\t\t\t\tdisabled={ useDefaultStretches}\n\t\t\t\t\tlabel=\"Both Sides\"\n\t\t\t\t\tchecked={ _.get( newStretch, \"bothSides\" )}\n\t\t\t\t\tonChange={ () => setNewStretch( ns => ({ ...ns, bothSides: !ns.bothSides })) }\n\t\t\t\t/>\n\t\t\t\t<button \n\t\t\t\t\tclassName={ clsx( classes.button, classes.addButton, { [ classes.disabledButton ]: !newStretch.name || !newStretch.frequency || useDefaultStretches }) }\n\t\t\t\t\tdisabled={ !newStretch.name || !newStretch.frequency || useDefaultStretches }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tif ( newStretch.name && newStretch.frequency ) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"updateStretchesMap\",\n\t\t\t\t\t\t\t\tstretchesMap: _.concat( stretchesMap, newStretch ),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetNewStretch({ name: \"\", frequency: 1, bothSides: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t\tAdd\n\t\t\t\t</button>\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={ clsx( classes.button, classes.upDownButton, classes.hidden, { [ classes.disabledButton ]: useDefaultStretches }) }\n\t\t\t\t\t\tdisabled={ true }\n\t\t\t\t\t\tonClick={ () => {} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"fa-chevron-up\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={ true }\n\t\t\t\t\t\tclassName={ clsx( classes.button, classes.upDownButton, classes.hidden, { [ classes.disabledButton ]: useDefaultStretches }) }\n\t\t\t\t\t\tonClick={ () => {} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"fa-chevron-down\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nSettings.propTypes = {\n\tstate: PropTypes.object,\n\tdispatch: PropTypes.func,\n};\n\n\n// Toggle Component\nconst useToggleStyles = makeStyles({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\topacity: ({ disabled }) => disabled ? 0.25 : 1,\n\t},\n\tlabel: {\n\t\tfontSize: \"85%\",\n\t\tpadding: \"0 1rem 0 0\",\n\t\tmargin: 0,\n\t},\n\ttoggle: {\n\t\tborderStyle: \"solid\",\n\t\tborderColor: \"var(--tertiary)\",\n\t\tborderWidth: \"1px\",\n\t\tpadding: \"3px\",\n\t\tcursor: \"pointer\",\n\t\t\"& span\": {\n\t\t\topacity: ({ checked }) => checked ? 1 : 0,\n\t\t\tfontWeight: \"bold\",\n\t\t},\n\t},\n});\n\nconst Toggle = ({ checked, onChange, label, disabled }) => {\n\tconst classes = useToggleStyles({ checked, disabled });\n\n\treturn (\n\t\t<span className={ classes.root }>\n\t\t\t{ label && <label className={ classes.label }>{ label }:</label>}\n\t\t\t<span className={ classes.toggle } onClick={ disabled ? null : onChange }>\n\t\t\t\t<span className=\"fa-check\" />\n\t\t\t</span>\n\t\t</span>\n\t);\n};\nToggle.propTypes = {\n\tlabel: PropTypes.string,\n\tchecked: PropTypes.bool,\n\tonChange: PropTypes.func,\n\tdisabled: PropTypes.bool,\n};\n\n\n// Input Text Component\nconst useInputTextStyles = makeStyles({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\topacity: ({ disabled }) => disabled ? 0.25 : 1,\n\t},\n\tlabel: {\n\t\tfontSize: \"85%\",\n\t\tpadding: \"0 1rem 0 0\",\n\t\tmargin: 0,\n\t},\n\tinput: {\n\t\tborderStyle: \"solid\",\n\t\tborderColor: \"var(--tertiary)\",\n\t\tborderWidth: \"1px\",\n\t\tpadding: \"2px\",\n\t\twidth: ({ isTypeNumber, wide }) => isTypeNumber ? \n\t\t\twide ? \"4rem\" : \"2rem\" : \n\t\t\twide ? \"12rem\" : \"7rem\",\n\t\t\"& :active, :hover, :focus\": {\n\t\t\tbackgroundColor: \"var(--secondary)\",\n\t\t},\n\t\t\"& input\": {\n\t\t\tborder: \"none\",\n\t\t},\n\t},\n});\n\nconst InputText = ({ value, onChange, label, disabled, wide }) => {\n\tconst isTypeNumber = typeof value === \"number\";\n\tconst classes = useInputTextStyles({ isTypeNumber, wide, disabled });\n\n\treturn (\n\t\t<span className={ classes.root }>\n\t\t\t{ label && <label className={ classes.label }>{ label }:</label> }\n\t\t\t<input\n\t\t\t\tclassName={ classes.input }\n\t\t\t\ttype={ isTypeNumber ? \"number\" : \"text\" } \n\t\t\t\tvalue={ value } \n\t\t\t\tdisabled={ disabled }\n\t\t\t\tonChange={ disabled ? null : e => onChange( e.target.value ) } \n\t\t\t/>\n\t\t</span>\n\t);\n};\nInputText.propTypes = {\n\tlabel: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t]),\n\tonChange: PropTypes.func,\n\tdisabled: PropTypes.bool,\n\twide: PropTypes.bool,\n};\n\n// Guide \nconst useGuideStyles = makeStyles({\n\tlist: {\n\t\t\"& li\": {\n\t\t\tfontSize: \"75%\",\n\t\t\twidth: \"90%\",\n\t\t},\n\t},\n});\nconst Guide = () => {\n\tconst classes = useGuideStyles();\n\treturn (\n\t\t<div>\n\t\t\t<h5>Guide</h5>\n\t\t\t<ul className={ classes.list }>\n\t\t\t\t<li><b>Name:</b> The name which will show up for you in the queue.</li>\n\t\t\t\t<li><b>Frequency:</b> The number of times the stretch will repeat in the queue. If frequencies above 1 are used, then the higher frequency stretches will be added to the end in the same order as originally until the frequency has been hit.</li>\n\t\t\t\t<li><b>Both Sides:</b> A single entry or a single entry for each side of your body. Text will either: just be the name, or for both sided stretches, it will be &apos;Stretch Left/Right *name*&apos;.</li>\n\t\t\t</ul>\n\t\t</div> \t);\n};\n","\n// dev\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport _ from \"lodash\";\nimport useMedia from \"./use-media\";\nimport localforage from \"localforage\";\nimport { useSpring, animated as a } from \"react-spring\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Popover } from \"@material-ui/core\";\n\n// app\nimport Main from \"./main\";\nimport Settings from \"./settings\";\nimport clsx from \"clsx\";\n\n//\n// App\n//\n\nconst useStyles = makeStyles({\n\troot: {\n\t\tflexGrow: 1,\n\t\tdisplay: \"flex\",\n\t},\n\tviewPort: {\n\t\tflexGrow: 1,\n\t\tposition: \"relative\",\n\t\twidth: \"min(70vw, 40em)\",\n\t},\n\tanimated: {\n\t\twillChange: \"transform, opacity\",\n\t\tdisplay: \"flex\", flexDirection: \"column\", \n\t\tposition: \"absolute\",\n\t\ttop: 0, right: 0, left: 0, bottom: 0,\n\t},\n\ttoggle: {\n\t\tposition: \"fixed\",\n\t\ttop: \"1rem\",\n\t\tzIndex: 15,\n\t\tpadding: 0, margin: 0,\n\t\t\"& button\": {\n\t\t\twidth: \"1.8rem\", height: \"1.8rem\",\n\t\t\tbackgroundColor: \"var(--alt-background)\",\n\t\t\tpadding: 0, margin: 0,\n\t\t\tborder: \"none\",\n\t\t\tcursor: \"pointer\", borderRadius: \"4px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\", alignItems: \"center\",\n\t\t\t\"& span::before\": {\n\t\t\t\tcolor: \"var(--alt-paragraph)\",\n\t\t\t\tfontSize: \"100%\",\n\t\t\t},\n\t\t},\n\t},\n\tdarkModeToggle: {\n\t\tright: \"1rem\",\n\t},\n\tsettingsToggle: {\n\t\tright: \"calc( 1rem + 1.5rem + 1rem )\",\n\t},\n\tqueueToggle: {\n\t\tright: \"calc( 1rem + 1.5rem + 1rem + 1.5rem + 1rem )\",\n\t},\n\tpopover: {\n\t\t\"& .MuiPaper-root\": {\n\t\t\tmarginTop: \"8px\",\n\t\t\tpadding: \"1.5rem\",\n\t\t\tmaxHeight: \"70vh\",\n\t\t\tmaxWidth: \"70vw\",\n\t\t},\n\t},\n\tlist: {\n\t\tcolumnCount: ({ count }) => _.clamp( _.ceil( count / 20 ), 1, 3 ),\n\t\tcolumnGap: \"1.5rem\",\n\t\t\"& li\": {\n\t\t\tfontSize: \"75%\",\n\t\t\twidth: \"90%\",\n\t\t},\n\t\t\"& .current\": {\n\t\t\tfontWeight: 900,\n\t\t},\n\t},\n});\n\nexport default function App () {\n\tconst [ state, dispatch ] = useReducer( reducer, initialState );\n\tconst { loaded, stretchesMap, activitiesList, currentActivityIndex } = state;\n\n\tuseEffect(() => {\n\t\t( async () => {\n\t\t\tconst localState = await localforage.getItem( \"state\" );\n\t\t\tconst activitiesList = activitiesListGenerator( _.get( localState, \"stretchesMap\" ) || stretchesMap );\n\t\t\tconst currentActivityIndex = _.clamp( _.findIndex( activitiesList, { key: _.get( localState, \"currentKey\" ) }), 0, Infinity );\n\t\t\tdispatch({ \n\t\t\t\ttype: \"loadLocalStorage\", \n\t\t\t\tstate: { \n\t\t\t\t\t...localState, \n\t\t\t\t\tloaded: true,\n\t\t\t\t\tactivitiesList,\n\t\t\t\t\tcurrentActivityIndex,\n\t\t\t\t}});\n\t\t})();\n\t}, []);\n\t\n\tuseEffect(() => {\n\t\tlocalforage.setItem( \"state\", _.omit( state, [ \"activitiesList\", \"loaded\", \"currentActivityIndex\" ]));\n\t}, [ state ]);\n\n\tconst [ darkMode, setDarkMode ] = useState( useMedia([ \"(prefers-color-scheme: dark)\" ], [ true ], false ));\n\t\n\tuseEffect(() => {\n\t\tdocument.getElementById( \"apple-mobile-web-app-status-bar-style\" ).setAttribute( \"content\", darkMode ? \"black-translucent\" : \"default\" );\n\t}, [ darkMode ]);\n\n\tconst [ isSettingsOpen, setIsSettingsOpen ] = useState( false );\n\tconst { transform, opacity, width } = useSpring({\n\t\topacity: isSettingsOpen ? 1 : 0,\n\t\ttransform: `perspective(600px) rotateY(${ isSettingsOpen ? 180 : 0 }deg)`,\n\t\tconfig: { mass: 5, tension: 500, friction: 80 },\n\t});\n\n\tconst [ anchorEl, setAnchorEl ] = useState( false );\n\n\tconst classes = useStyles({ count: _.size( activitiesList ) });\n\n\tif ( !loaded ) return null;\n\t\n\treturn (\n\t\t<div className={ classes.root }>\n\t\t\t<div className={ classes.viewPort } style={{ width }}>\n\t\t\t\t<a.div className={ classes.animated } style={{ zIndex: isSettingsOpen ? 1 : 10, opacity: opacity.interpolate( o => 1 - o ), transform }}>\n\t\t\t\t\t<Main state={ state } dispatch={ dispatch } darkMode={ darkMode } />\n\t\t\t\t</a.div> \n\t\t\t\t<a.div className={ classes.animated } style={{ display: isSettingsOpen ? \"\" : \"none\", zIndex: isSettingsOpen ? 10 : 1, opacity, transform: transform.interpolate( t => `${t} rotateY(180deg)` ) }}>\n\t\t\t\t\t<Settings state={ state } dispatch={ dispatch } />\n\t\t\t\t</a.div> \n\t\t\t</div>\n\t\t\t<div className={ clsx( classes.toggle, classes.queueToggle ) }>\n\t\t\t\t<button onClick={ e => setAnchorEl( e.currentTarget ) }>\n\t\t\t\t\t<span className={ anchorEl ? \"fa-x\" : \"fa-list\" } />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className={ clsx( classes.toggle, classes.settingsToggle ) }>\n\t\t\t\t<button onClick={ () => setIsSettingsOpen( d => !d ) }>\n\t\t\t\t\t<span className={ isSettingsOpen ? \"fa-x\" : \"fa-settings\" } />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className={ clsx( classes.toggle, classes.darkModeToggle ) }>\n\t\t\t\t<button onClick={ () => setDarkMode( d => !d ) }>\n\t\t\t\t\t<span className={ darkMode ? \"fa-sun\" : \"fa-moon\" } />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<Popover\n\t\t\t\tclassName={ classes.popover }\n\t\t\t\topen={ Boolean( anchorEl )}\n\t\t\t\tanchorEl={ anchorEl }\n\t\t\t\tonClose={ () => setAnchorEl( false ) }\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<h5>Whole Stretching Loop</h5>\n\t\t\t\t\t<ol className={ classes.list }>\n\t\t\t\t\t\t{ !_.isEmpty( activitiesList ) && _.map( activitiesList, ({ key, label }, i ) => <li key={ key } className={ i === currentActivityIndex ? \"current\" : \"\" }>{ label }</li> )}\n\t\t\t\t\t</ol>\n\t\t\t\t</div> \n\t\t\t</Popover>\n\n\t\t\t<style>{`\n\t\t\t\thtml {\n\t\t\t\t\t--background: ${ darkMode ? \"#000\" : \"#ffffff\" };\n\t\t\t\t\t--alt-background: ${ darkMode ? \"#ffffff\" : \"#000\" };\n\t\t\t\t\t\n\t\t\t\t\t--stroke: ${ darkMode ? \"#121629\" : \"#272343\" };\n\t\t\t\t\t--highlight: ${ darkMode ? \"#eebbc3\" : \"#ffd803\" };\n\t\t\t\t\t--secondary: ${ darkMode ? \"#fffffe\" : \"#e3f6f5\" };\n\t\t\t\t\t--tertiary: ${ darkMode ? \"#eebbc3\" : \"#bae8e8\" };\n\t\t\t\t\t--heading: ${ darkMode ? \"#fffffe\" : \"#272343\" };\n\t\t\t\t\t\n\t\t\t\t\t--paragraph: ${ darkMode ? \"#b8c1ec\" : \"#2d334a\" };\n\t\t\t\t\t--alt-paragraph: ${ darkMode ? \"#2d334a\" : \"#b8c1ec\" };\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</div>\n\t);\n}\n\nconst stretchesMap = [\n\t{ name: \"Glute\", frequency: 3, bothSides: true },\n\t{ name: \"Hamstring\", frequency: 3, bothSides: true },\n\t{ name: \"Quad\", frequency: 3, bothSides: true },\n\t{ name: \"Half Lotus\", frequency: 2, bothSides: true },\n\t{ name: \"Forearm\", frequency: 2, bothSides: true },\n\t{ name: \"Front Shoulder\", frequency: 2, bothSides: true },\n\t{ name: \"Standing Pike Stretch\", bothSides: false, frequency: 1 },\n\t{ name: \"Lat\", frequency: 1, bothSides: true },\n\t{ name: \"Pec\", frequency: 1, bothSides: true },\n\t{ name: \"Frog Stretch\", frequency: 1, bothSides: false },\n\t{ name: \"Calf\", frequency: 1, hasRolling: false, bothSides: true },\n];\n\nconst activitiesListGenerator = stretchesMap => {\n\tif ( _.isEmpty( stretchesMap )) return [];\n\n\tconst loops = _.max( _.map( stretchesMap, \"frequency\" ));\n\tconst extendedMap = _.reduce( _.range( 0, loops ), ( acc, loop ) => {\n\t\treturn _.concat( acc, _.filter( stretchesMap, ({ frequency }) => frequency >= loop + 1 ));\n\t}, []);\n\n\treturn _.reduce( extendedMap, ( acc, { name, bothSides = true }) => {\n\t\tconst count = _.size( _.filter( acc, { name }));\n\t\tif ( !bothSides ) return _.concat( acc, { key: `${ name }-${ count }`, label: `${ _.startCase( name ) }`, name });\n\t\telse return _.concat( \n\t\t\tacc,\n\t\t\t{ key: `${ name }-right-${ count }`, label: `Stretch Right ${ _.startCase( name ) }`, name },\n\t\t\t{ key: `${ name }-left-${ count }`, label: `Stretch Left ${ _.startCase( name ) }`, name },\n\t\t);\n\t}, []);\n};\n\n\nconst reducer = ( state, action ) => {\n\tconst { type, ...payload } = action;\n\n\tswitch ( type ) {\n\tcase \"loadLocalStorage\":\n\t\treturn {\n\t\t\t...state,\n\t\t\t..._.get( payload, \"state\" ),\n\t\t};\n\tcase \"setCurrentKey\":\n\t\treturn {\n\t\t\t...state,\n\t\t\tcurrentKey: _.get( payload, \"key\" ),\n\t\t\tcurrentActivityIndex: _.clamp( _.findIndex( _.get( state, \"activitiesList\" ), { key: _.get( payload, \"key\" ) }), 0, Infinity ),\n\t\t};\n\tcase \"setUseDefaultStretches\":\n\t\treturn {\n\t\t\t...state,\n\t\t\tuseDefaultStretches: _.get( payload, \"value\" ),\n\t\t\tstretchesMap,\n\t\t};\n\tcase \"updateStretchesMap\": \n\t\treturn {\n\t\t\t...state,\n\t\t\tstretchesMap: _.get( payload, \"stretchesMap\" ),\n\t\t\tactivitiesList: activitiesListGenerator( _.get( payload, \"stretchesMap\" )),\n\t\t};\n\tcase \"setDuration\":\n\t\treturn {\n\t\t\t...state,\n\t\t\tduration: _.get( payload, \"value\" ),\n\t\t};\n\tdefault: \n\t\treturn state;\n\t}\n};\n\nconst initialState = {\n\tloaded: false,\n\tduration: 60 * 2.5,\n\tuseDefaultStretches: true,\n\tstretchesMap,\n\tcurrentKey: null,\n\tcurrentActivityIndex: 0,\n\tactivitiesList: [],\n};\n","\n// Attributed to https://usehooks.com/ on 25 Feb 2021\n\nimport { useState, useEffect } from \"react\";\n\nexport default function useMedia ( queries, values, defaultValue ) {\n\t// Array containing a media query list for each query\n\tconst mediaQueryLists = queries.map( q => window.matchMedia( q ));\n\n\t// Function that gets value based on matching media query\n\tconst getValue = () => {\n\t\t// Get index of first media query that matches\n\t\tconst index = mediaQueryLists.findIndex( mql => mql.matches );\n\t\t// Return related value or defaultValue if none\n\t\treturn typeof values[ index ] !== \"undefined\" ? values[ index ] : defaultValue;\n\t};\n\n\t// State and setter for matched value\n\tconst [ value, setValue ] = useState( getValue );\n\n\tuseEffect(\n\t\t() => {\n\t\t// Event listener callback\n\t\t// Note: By defining getValue outside of useEffect we ensure that it has ...\n\t\t// ... current values of hook args (as this hook callback is created once on mount).\n\t\t\tconst handler = () => setValue( getValue );\n\t\t\t// Set a listener for each media query with above handler as callback.\n\t\t\tmediaQueryLists.forEach( mql => mql.addListener( handler ));\n\t\t\t// Remove listeners on cleanup\n\t\t\treturn () => mediaQueryLists.forEach( mql => mql.removeListener( handler ));\n\t\t},\n\t\t[], // Empty array ensures effect is only run on mount and unmount\n\t);\n\n\treturn value;\n}\n","\n// dev\nimport React from \"react\";\nimport { hydrate, render } from \"react-dom\";\nimport { Workbox } from \"workbox-window\";\n\n// app\nimport \"./css/index.css\";\nimport App from \"./views/app\";\n\n//\n// Index \n//\n\nconst rootElement = document.getElementById( \"root\" );\nif ( rootElement.hasChildNodes()) {\n\thydrate( <App />, rootElement );\n} else {\n\trender( <App />, rootElement );\n}\n\nif ( \"serviceWorker\" in navigator ) {\n\tconst wb = new Workbox( \"service-worker.js\" );\n   \n\twb.addEventListener( \"installed\", event => {\n\t\tif ( event.isUpdate ) window.location.reload();\n\t});\n  \n\twb.register();\n}\n"],"sourceRoot":""}