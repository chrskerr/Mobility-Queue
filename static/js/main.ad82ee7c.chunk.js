(this["webpackJsonpthe-contortionist"]=this["webpackJsonpthe-contortionist"]||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(6),r=n(10),i=(n(16),n(3)),s=n(7),o=n.n(s),l=n(11),u=n(4),d=n(0),f=n.n(d),h=n(8),m=n.n(h);var b=n.p+"static/media/logo.62967c48.png",j=n.p+"static/media/single-ding-sound-effect.ab26721d.mp3",g=n(1),v=new Audio(j);function p(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(function(e,t,n){var c=e.map((function(e){return window.matchMedia(e)})),r=function(){var e=c.findIndex((function(e){return e.matches}));return"undefined"!==typeof t[e]?t[e]:n},i=Object(a.useState)(r),s=Object(u.a)(i,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){var e=function(){return l(r)};return c.forEach((function(t){return t.addListener(e)})),function(){return c.forEach((function(t){return t.removeListener(e)}))}}),[]),o}(["(prefers-color-scheme: dark)"],[!0],!1)),s=Object(u.a)(r,2),d=s[0],h=s[1];Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,m.a.getItem("currentKey");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(a.useEffect)((function(){m.a.setItem("currentKey",n)}),[n]);var j=f.a.debounce((function(){var e=f.a.get(window,"innerHeight");document.getElementById("root").setAttribute("style","height: ".concat(e,"; max-height: ").concat(e,";"))}),100);Object(a.useEffect)((function(){return j(),window.addEventListener("resize",j),function(){return window.removeEventListener("resize")}}),[]),Object(a.useEffect)((function(){document.body.setAttribute("class",d?"-dark-mode":""),document.getElementById("apple-mobile-web-app-status-bar-style").setAttribute("content",d?"black-translucent":"default")}),[d]);var p=Object(a.useState)({secondsRemaining:150,intervalRef:null,start:function(){return x((function(e){return Object(i.a)(Object(i.a)({},e),{},{intervalRef:setInterval(e.decrementSeconds,1e3)})}))},pause:function(){return x((function(e){return clearInterval(e.intervalRef),Object(i.a)(Object(i.a)({},e),{},{intervalRef:null})}))},reset:function(){return x((function(e){return clearInterval(e.intervalRef),Object(i.a)(Object(i.a)({},e),{},{intervalRef:null,secondsRemaining:150})}))},decrementSeconds:function(){return x((function(e){return Object(i.a)(Object(i.a)({},e),{},{secondsRemaining:e.secondsRemaining-1})}))}}),O=Object(u.a)(p,2),R=O[0],x=O[1],k=R.secondsRemaining,w=R.intervalRef,E=R.start,N=R.pause,S=R.reset,C=Boolean(w),I="".concat(f.a.floor(k/60),":").concat(k%60<10?"0".concat(k%60):k%60),L=y({includeRolling:!1}),z=f.a.findIndex(L,{key:n})||0,A=0===z,B=z===f.a.size(L)-1,q=A?f.a.last(L):f.a.nth(L,z-1),F=f.a.nth(L,z),J=B?f.a.head(L):f.a.nth(L,z+1),K=function(){c(f.a.get(J,"key")),S()};return Object(a.useEffect)((function(){k<=0&&(v.play(),K())}),[k]),f.a.isUndefined(n)?null:Object(g.jsxs)("div",{className:"body",id:"body",children:[Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("img",{src:b,alt:"Site logo, woman stretching"}),Object(g.jsxs)("p",{children:["A rolling queue of ",f.a.size(L)," stretching activities with a timer and a record of where you left off last time. Try to do ",f.a.ceil(f.a.size(L)/7)," every day to get through every body part in a week."]})]}),Object(g.jsxs)("div",{className:"current",children:[Object(g.jsxs)("h4",{children:["Current activity: ",f.a.get(F,"label")]}),Object(g.jsxs)("p",{className:"-smaller",children:["Next activity: ",f.a.get(J,"label")]})]}),Object(g.jsx)("div",{className:"main",children:Object(g.jsxs)("div",{className:"timer",children:[Object(g.jsx)("div",{className:"time",children:I}),Object(g.jsxs)("div",{className:"controls",children:[Object(g.jsx)("button",{onClick:C?S:function(){C?S():c(f.a.get(q,"key"))},children:C?"Restart":"Back"}),Object(g.jsx)("button",{onClick:C?N:function(){E(),v.play(),v.pause()},children:C?"Pause":"Start"}),Object(g.jsx)("button",{onClick:K,children:"Next"})]})]})}),Object(g.jsx)("div",{className:"dark-mode-toggle",children:Object(g.jsx)("button",{onClick:function(){return h((function(e){return!e}))},children:Object(g.jsx)("span",{className:d?"fa-sun":"fa-moon"})})})]})}var O=[{name:"standing-pike-stretch",unilateral:!1,hasRolling:!1},{name:"glute"},{name:"lat"},{name:"pec"},{name:"quad"},{name:"hamstring",hasRolling:!1},{name:"frog-stretch",unilateral:!1,hasRolling:!1},{name:"calf",hasRolling:!1},{name:"quad"},{name:"forearm"},{name:"tricep"},{name:"lotus",hasRolling:!1},{name:"front-shoulder",hasRolling:!1},{name:"quad"},{name:"groin",hasStretch:!1},{name:"frog-stretch",unilateral:!1,hasRolling:!1},{name:"calf"},{name:"trap",hasStretch:!1}],y=function(e){var t=e.includeRolling,n=void 0!==t&&t;return f.a.flatten(f.a.map(O,(function(e,t){return function(e,t,n){var a=e.name,c=e.hasStretch,r=void 0===c||c,i=e.hasRolling,s=void 0===i||i,o=e.unilateral,l=[];return void 0===o||o?(s&&t&&l.push({key:"".concat(a,"-roll-right-").concat(n),type:"rolling",label:"Foam Roll Right ".concat(f.a.startCase(a))},{key:"".concat(a,"-roll-left-").concat(n),type:"rolling",label:"Foam Roll Left ".concat(f.a.startCase(a))}),r&&l.push({key:"".concat(a,"-stretch-right-").concat(n),type:"stretching",label:"Stretch Right ".concat(f.a.startCase(a))},{key:"".concat(a,"-stretch-left-").concat(n),type:"stretching",label:"Stretch Left ".concat(f.a.startCase(a))})):(s&&t&&l.push({key:"".concat(a,"-").concat(n),type:"rolling",label:"".concat(f.a.startCase(a))}),r&&l.push({key:"".concat(a,"-").concat(n),type:"stretching",label:"".concat(f.a.startCase(a))})),l}(e,n,t)})))},R=document.getElementById("root");if(R.hasChildNodes()?Object(c.hydrate)(Object(g.jsx)(p,{}),R):Object(c.render)(Object(g.jsx)(p,{}),R),"serviceWorker"in navigator){var x=new r.a("service-worker.js");x.addEventListener("installed",(function(e){e.isUpdate&&window.location.reload()})),x.register()}}},[[20,1,2]]]);
//# sourceMappingURL=main.ad82ee7c.chunk.js.map