(this["webpackJsonpthe-contortionist"]=this["webpackJsonpthe-contortionist"]||[]).push([[0],{11:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(5),r=(a(11),a(2)),s=a(6),l=a(0),i=a.n(l),o=a.p+"static/media/logo.62967c48.png",u=a.p+"static/media/single-ding-sound-effect.ab26721d.mp3",h=a(1),d=new Audio(u);function m(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("savedData"))),t=Object(s.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){a||c({lastCompleted:null}),localStorage.setItem("savedData",JSON.stringify(a))}),[a]);var l=i.a.get(a,"currentKey"),u=Object(n.useState)({secondsRemaining:150,intervalRef:null,start:function(){return f((function(e){return Object(r.a)(Object(r.a)({},e),{},{intervalRef:setInterval(e.decrementSeconds,1e3)})}))},pause:function(){return f((function(e){return clearInterval(e.intervalRef),Object(r.a)(Object(r.a)({},e),{},{intervalRef:null})}))},reset:function(){return f((function(e){return clearInterval(e.intervalRef),Object(r.a)(Object(r.a)({},e),{},{intervalRef:null,secondsRemaining:150})}))},decrementSeconds:function(){return f((function(e){return Object(r.a)(Object(r.a)({},e),{},{secondsRemaining:e.secondsRemaining-1})}))}}),m=Object(s.a)(u,2),j=m[0],f=m[1],g=j.secondsRemaining,O=j.intervalRef,p=j.start,v=j.pause,y=j.reset,R=Boolean(O),x="".concat(i.a.floor(g/60),":").concat(g%60<10?"0".concat(g%60):g%60),k=i.a.findIndex(b,{key:l})||0,S=0===k,N=k===i.a.size(b)-1,C=S?i.a.last(b):i.a.nth(b,k-1),w=l?i.a.find(b,{key:l}):i.a.head(b),I=N?i.a.head(b):i.a.nth(b,k+1),q=function(){c(Object(r.a)(Object(r.a)({},a),{},{currentKey:i.a.get(I,"key")})),y()};return Object(n.useEffect)((function(){g<=0&&(d.play(),q())}),[g]),Object(h.jsxs)("div",{className:"body",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("img",{src:o,alt:"Site logo, woman stretching"}),Object(h.jsxs)("p",{children:["A rolling queue of ",i.a.size(b)," stretching activities with a timer and a record of where you left off last time. Try to do ",i.a.ceil(i.a.size(b)/7)," every day to get through every body part in a week."]})]}),Object(h.jsxs)("div",{className:"current",children:[Object(h.jsxs)("p",{className:"-smaller",children:["Previous activity: ",i.a.get(C,"label")]}),Object(h.jsxs)("h4",{children:["Current activity: ",i.a.get(w,"label")]}),Object(h.jsxs)("p",{className:"-smaller",children:["Next activity: ",i.a.get(I,"label")]})]}),Object(h.jsx)("div",{className:"main",children:Object(h.jsxs)("div",{className:"timer",children:[Object(h.jsx)("div",{className:"time",children:x}),Object(h.jsxs)("div",{className:"controls",children:[Object(h.jsx)("button",{onClick:R?y:function(){R?y():c(Object(r.a)(Object(r.a)({},a),{},{currentKey:i.a.get(C,"key")}))},children:R?"Restart":"Back"}),Object(h.jsx)("button",{onClick:R?v:function(){p(),d.play(),d.pause()},children:R?"Pause":"Start"}),Object(h.jsx)("button",{onClick:q,children:"Next"})]})]})})]})}var b=i.a.flatten(i.a.map([{name:"standing-pike-stretch",unilateral:!1,hasRolling:!1},{name:"glute"},{name:"lat"},{name:"pec"},{name:"quad"},{name:"hamstring",hasRolling:!1},{name:"frog-stretch",unilateral:!1,hasRolling:!1},{name:"calf",hasRolling:!1},{name:"quad"},{name:"forearm"},{name:"tricep"},{name:"lotus",hasRolling:!1},{name:"front-shoulder",hasRolling:!1},{name:"quad"},{name:"groin",hasStretch:!1},{name:"frog-stretch",unilateral:!1,hasRolling:!1},{name:"calf"},{name:"trap",hasStretch:!1}],(function(e,t){return function(e,t){var a=e.name,n=e.hasStretch,c=void 0===n||n,r=e.hasRolling,s=void 0!==r&&r,l=e.unilateral,o=[];return void 0===l||l?(s&&o.push({key:"".concat(a,"-roll-right-").concat(t),type:"rolling",label:"Foam Roll Right ".concat(i.a.startCase(a))},{key:"".concat(a,"-roll-left-").concat(t),type:"rolling",label:"Foam Roll Left ".concat(i.a.startCase(a))}),c&&o.push({key:"".concat(a,"-stretch-right-").concat(t),type:"stretching",label:"Stretch Right ".concat(i.a.startCase(a))},{key:"".concat(a,"-stretch-left-").concat(t),type:"stretching",label:"Stretch Left ".concat(i.a.startCase(a))})):(s&&o.push({key:"".concat(a,"-").concat(t),type:"rolling",label:"".concat(i.a.startCase(a))}),c&&o.push({key:"".concat(a,"-").concat(t),type:"stretching",label:"".concat(i.a.startCase(a))})),o}(e,t)}))),j=document.getElementById("root");j.hasChildNodes()?Object(c.hydrate)(Object(h.jsx)(m,{}),j):Object(c.render)(Object(h.jsx)(m,{}),j)}},[[15,1,2]]]);
//# sourceMappingURL=main.9a2f039d.chunk.js.map