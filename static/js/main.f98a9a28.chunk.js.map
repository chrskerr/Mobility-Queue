{"version":3,"sources":["resources/logo.png","resources/single-ding-sound-effect.mp3","views/main.js","views/settings.js","views/app.js","views/use-media.js","index.js"],"names":["audio","Audio","audioFile","Main","state","dispatch","activitiesList","duration","currentKey","useState","secondsRemaining","intervalRef","start","setTimer","t","setInterval","decrementSeconds","pause","clearInterval","reset","timer","_isRunning","Boolean","timeText","_","floor","currentActivityIndex","findIndex","key","_isFirst","_isLast","size","previousActivity","last","nth","currentActivity","nextActivity","head","_handleNext","type","get","useEffect","play","isUndefined","className","src","logo","alt","ceil","onClick","Settings","useDefaultStretches","customStretchesMap","console","log","App","useReducer","reducer","initialState","loaded","a","localforage","getItem","localState","setItem","queries","values","defaultValue","mediaQueryLists","map","q","window","matchMedia","getValue","index","mql","matches","value","setValue","handler","forEach","addListener","removeListener","useMedia","darkMode","setDarkMode","document","getElementById","setAttribute","isSettingsOpen","setIsSettingsOpen","useSpring","opacity","transform","config","mass","tension","friction","activitiesListGenerator","stretchesMap","div","style","zIndex","interpolate","o","d","action","payload","name","frequency","custom","hasRolling","loops","max","uniqMap","uniqBy","extendedMap","reduce","range","acc","loop","curr","filter","item","concat","label","startCase","rootElement","hasChildNodes","hydrate","render","navigator","wb","Workbox","addEventListener","event","isUpdate","location","reload","register"],"mappings":"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","file":"static/js/main.f98a9a28.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.62967c48.png\";","export default __webpack_public_path__ + \"static/media/single-ding-sound-effect.ab26721d.mp3\";","\n// dev\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\n\n// app\nimport logo from \"../resources/logo.png\";\nimport audioFile from \"../resources/single-ding-sound-effect.mp3\";\nconst audio = new Audio( audioFile );\n\n//\n// Main\n//\n\n\nexport default function Main ({ state, dispatch, activitiesList }) {\n\tconst { duration, currentKey } = state;\n\t\n\tconst [ timer, setTimer ] = useState({ \n\t\tsecondsRemaining: duration,\n\t\tintervalRef: null,\n\t\tstart: () => setTimer( t => ({ ...t, intervalRef: setInterval( t.decrementSeconds, 1000 ) })),\n\t\tpause: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null };\n\t\t}),\n\t\treset: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null, secondsRemaining: duration };\n\t\t}),\n\t\tdecrementSeconds: () => setTimer( t => ({ ...t, secondsRemaining: t.secondsRemaining - 1 })),\n\t});\n\tconst { secondsRemaining, intervalRef, start, pause, reset } = timer;\n\tconst _isRunning = Boolean( intervalRef );\n\tconst timeText = `${ _.floor( secondsRemaining / 60 )}:${ secondsRemaining%60 < 10 ? `0${ secondsRemaining%60 }` : secondsRemaining%60 }`;\n\n\tconst currentActivityIndex = _.findIndex( activitiesList, { key: currentKey }) || 0;\n\n\tconst _isFirst = currentActivityIndex === 0;\n\tconst _isLast = currentActivityIndex === _.size( activitiesList ) - 1;\n\n\tconst previousActivity = _isFirst ? _.last( activitiesList ) : _.nth( activitiesList, currentActivityIndex - 1 );\n\tconst currentActivity = _.nth( activitiesList, currentActivityIndex );\n\tconst nextActivity = _isLast ? _.head( activitiesList ) : _.nth( activitiesList, currentActivityIndex + 1 );\n\n\tconst _handleNext = () => {\n\t\tdispatch({ type: \"setCurrentKey\", key: _.get( nextActivity, \"key\" ) });\n\t\treset();\n\t};\n\n\tconst _handleStart = () => {\n\t\tstart();\n\t\taudio.play();\n\t\taudio.pause();\n\t};\n\n\tconst _handleBack = () => {\n\t\tif ( _isRunning ) reset();\n\t\telse dispatch({ type: \"setCurrentKey\", key: _.get( previousActivity, \"key\" ) });\n\t};\n\n\tuseEffect(() => { \n\t\tif ( secondsRemaining <= 0 ) {\n\t\t\taudio.play();\n\t\t\t_handleNext();\n\t\t}\n\t}, [ secondsRemaining ]);\n\n\tif ( _.isUndefined( currentKey )) return null;\n\n\treturn (\n\t\t<div className=\"main\">\n\t\t\t<div className=\"header\">\n\t\t\t\t<img src={ logo } alt=\"Site logo, woman stretching\" />\t\n\t\t\t\t<p>A rolling queue of { _.size( activitiesList ) } stretches (based on my weaknesses) with a timer and a record of where you left off last time. Try to do { _.ceil( _.size( activitiesList ) / 7 ) } every day to get through them all in a week.</p>\n\t\t\t</div>\n\t\t\t<div className=\"current\">\n\t\t\t\t<h4>Current activity: { _.get( currentActivity, \"label\" )}</h4>\n\t\t\t\t<p className=\"-smaller\">Next activity: { _.get( nextActivity, \"label\" )}</p>\n\t\t\t</div>\n\t\t\t<div className=\"timer\">\n\t\t\t\t<div className=\"time\">\n\t\t\t\t\t{ timeText }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"controls\">\n\t\t\t\t\t<div className=\"button\">\n\t\t\t\t\t\t<button onClick={ _isRunning ? reset : _handleBack }>{ _isRunning ? \"Restart\" : \"Back\" }</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"button\">\n\t\t\t\t\t\t<button onClick={ _isRunning ? pause : _handleStart }>{ _isRunning ? \"Pause\" : \"Start\" }</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"button\">\n\t\t\t\t\t\t<button onClick={ _handleNext }>Next</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nMain.propTypes = {\n\tstate: PropTypes.object,\n\tdispatch: PropTypes.func,\n\tactivitiesList: PropTypes.array,\n};\n","\n// dev\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\n\n// app\n\n\n//\n// Settings\n//\n\n\nexport default function Settings ({ state, dispatch }) {\n\tconst { duration, useDefaultStretches, customStretchesMap } = state;\n\t\n\t\n\tconsole.log( useDefaultStretches, customStretchesMap, dispatch, _ );\n\n\treturn (\n\t\t<div className=\"main settings\">\n\t\t\t<h4>Settings</h4>\n\t\t\t<div>\n\t\t\t\t<h5>Duration:</h5>\n\t\t\t\t<p>{ duration }</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nSettings.propTypes = {\n\tstate: PropTypes.object,\n\tdispatch: PropTypes.func,\n};\n","\n// dev\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport _ from \"lodash\";\nimport useMedia from \"./use-media\";\nimport localforage from \"localforage\";\nimport { useSpring, animated as a } from \"react-spring\";\n\n// app\nimport Main from \"./main\";\nimport Settings from \"./settings\";\n\n//\n// App\n//\n\nexport default function App () {\n\tconst [ state, dispatch ] = useReducer( reducer, initialState );\n\tconst { loaded, useDefaultStretches, customStretchesMap } = state;\n\n\tuseEffect(() => {\n\t\t( async () => {\n\t\t\tconst localState = await localforage.getItem( \"state\" );\n\t\t\tdispatch({ type: \"loadLocalStorage\", state: { ...localState, loaded: true }});\n\t\t})();\n\t}, []);\n\t\n\tuseEffect(() => {\n\t\tlocalforage.setItem( \"state\", state );\n\t}, [ state ]);\n\n\n\tconst [ darkMode, setDarkMode ] = useState( useMedia([ \"(prefers-color-scheme: dark)\" ], [ true ], false ));\n\t\n\tuseEffect(() => {\n\t\tdocument.getElementById( \"apple-mobile-web-app-status-bar-style\" ).setAttribute( \"content\", darkMode ? \"black-translucent\" : \"default\" );\n\t}, [ darkMode ]);\n\n\tconst [ isSettingsOpen, setIsSettingsOpen ] = useState( false );\n\tconst { transform, opacity } = useSpring({\n\t\topacity: isSettingsOpen ? 1 : 0,\n\t\ttransform: `perspective(600px) rotateY(${ isSettingsOpen ? 180 : 0 }deg)`,\n\t\tconfig: { mass: 5, tension: 500, friction: 80 },\n\t});\n\n\tif ( !loaded ) return null;\n\n\tconst activitiesList = activitiesListGenerator( useDefaultStretches ? stretchesMap : customStretchesMap );\n\t\n\tconsole.log(  activitiesList );\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<div className=\"view-port\">\n\t\t\t\t<a.div className=\"a-div\" style={{ zIndex: isSettingsOpen ? 1 : 10, opacity: opacity.interpolate( o => 1 - o ), transform }}>\n\t\t\t\t\t<Main state={ state } dispatch={ dispatch } activitiesList={ activitiesList } />\n\t\t\t\t</a.div> \n\t\t\t\t<a.div className=\"a-div\" style={{ zIndex: isSettingsOpen ? 10 : 1, opacity, transform: transform.interpolate( t => `${t} rotateY(180deg)` ) }}>\n\t\t\t\t\t<Settings state={ state } dispatch={ dispatch } />\n\t\t\t\t</a.div> \n\t\t\t</div>\n\t\t\t<div className=\"toggle settings-toggle\">\n\t\t\t\t<button onClick={ () => setIsSettingsOpen( d => !d ) }>\n\t\t\t\t\t<span className={ isSettingsOpen ? \"fa-x\" : \"fa-settings\" } />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"toggle dark-mode-toggle\">\n\t\t\t\t<button onClick={ () => setDarkMode( d => !d ) }>\n\t\t\t\t\t<span className={ darkMode ? \"fa-sun\" : \"fa-moon\" } />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<style>{`\n\t\t\t\thtml {\n\t\t\t\t\t--background: ${ darkMode ? \"#000\" : \"#ffffff\" };\n\t\t\t\t\t--alt-background: ${ darkMode ? \"#ffffff\" : \"#000\" };\n\t\t\t\t\t\n\t\t\t\t\t--stroke: ${ darkMode ? \"#121629\" : \"#272343\" };\n\t\t\t\t\t--highlight: ${ darkMode ? \"#eebbc3\" : \"#ffd803\" };\n\t\t\t\t\t--secondary: ${ darkMode ? \"#fffffe\" : \"#e3f6f5\" };\n\t\t\t\t\t--tertiary: ${ darkMode ? \"#eebbc3\" : \"#bae8e8\" };\n\t\t\t\t\t--heading: ${ darkMode ? \"#fffffe\" : \"#272343\" };\n\t\t\t\t\t\n\t\t\t\t\t--paragraph: ${ darkMode ? \"#b8c1ec\" : \"#2d334a\" };\n\t\t\t\t\t--alt-paragraph: ${ darkMode ? \"#2d334a\" : \"#b8c1ec\" };\n\t\t\t\t}\n\n\t\t\t\t${ darkMode ? `\n\t\t\t\t\t.header img {\n\t\t\t\t\t\tfilter: invert(1) brightness(10);\n\t\t\t\t\t}\n\t\t\t\t` : \"\" }\n\t\t\t`}</style>\n\t\t</div>\n\t);\n}\n\nconst reducer = ( state, action ) => {\n\tconst { type, ...payload } = action;\n\n\tswitch ( type ) {\n\tcase \"loadLocalStorage\":\n\t\treturn {\n\t\t\t...state,\n\t\t\t..._.get( payload, \"state\" ),\n\t\t};\n\tcase \"setCurrentKey\":\n\t\treturn {\n\t\t\t...state,\n\t\t\tcurrentKey: _.get( payload, \"key\" ),\n\t\t};\n\tdefault: \n\t\treturn state;\n\t}\n};\n\nconst initialState = {\n\tloaded: false,\n\tduration: 60 * 2.5,\n\tuseDefaultStretches: true,\n\tcustomStretchesMap: [],\n\tcurrentKey: null,\n};\n\nconst stretchesMap = [\n\t{ name: \"glute\", frequency: 3 },\n\t{ name: \"hamstring\", frequency: 3 },\n\t{ name: \"quad\", frequency: 3 },\n\t{ name: \"half-lotus\", frequency: 2 },\n\t{ name: \"forearm\", frequency: 2 },\n\t{ name: \"front-shoulder\", frequency: 2 },\n\t{ name: \"standing-pike-stretch\", custom: true, frequency: 1 },\n\t{ name: \"lat\", frequency: 1 },\n\t{ name: \"pec\", frequency: 1 },\n\t{ name: \"frog-stretch\", frequency: 1, custom: true },\n\t{ name: \"calf\", frequency: 1, hasRolling: false },\n];\n\nconst activitiesListGenerator = stretchesMap => {\n\tconst loops = _.max( _.map( stretchesMap, \"frequency\" ));\n\tconst uniqMap = _.uniqBy( stretchesMap, \"name\" );\n\tconst extendedMap = _.reduce( _.range( 0, loops ), ( acc, loop ) => {\n\t\tconst curr = _.map( _.filter( uniqMap, ({ frequency }) => frequency >= loop + 1 ), item => ({ ...item, key: `${ loop }-${ item.name }` }));\n\t\treturn _.concat( acc, curr );\n\t}, []);\n\n\treturn _.reduce( extendedMap, ( acc, { key, name, custom = false }) => {\n\t\tif ( custom ) return _.concat( acc, { key: `${ key }`, type: \"stretching\", label: `${ _.startCase( name ) }` });\n\t\telse return _.concat( \n\t\t\tacc,\n\t\t\t{ key: `${ key }-stretch-right`, type: \"stretching\", label: `Stretch Right ${ _.startCase( name ) }` },\n\t\t\t{ key: `${ key }-stretch-left`, type: \"stretching\", label: `Stretch Left ${ _.startCase( name ) }` },\n\t\t);\n\t}, []);\n};\n","\n// Attributed to https://usehooks.com/ on 25 Feb 2021\n\nimport { useState, useEffect } from \"react\";\n\nexport default function useMedia ( queries, values, defaultValue ) {\n\t// Array containing a media query list for each query\n\tconst mediaQueryLists = queries.map( q => window.matchMedia( q ));\n\n\t// Function that gets value based on matching media query\n\tconst getValue = () => {\n\t\t// Get index of first media query that matches\n\t\tconst index = mediaQueryLists.findIndex( mql => mql.matches );\n\t\t// Return related value or defaultValue if none\n\t\treturn typeof values[ index ] !== \"undefined\" ? values[ index ] : defaultValue;\n\t};\n\n\t// State and setter for matched value\n\tconst [ value, setValue ] = useState( getValue );\n\n\tuseEffect(\n\t\t() => {\n\t\t// Event listener callback\n\t\t// Note: By defining getValue outside of useEffect we ensure that it has ...\n\t\t// ... current values of hook args (as this hook callback is created once on mount).\n\t\t\tconst handler = () => setValue( getValue );\n\t\t\t// Set a listener for each media query with above handler as callback.\n\t\t\tmediaQueryLists.forEach( mql => mql.addListener( handler ));\n\t\t\t// Remove listeners on cleanup\n\t\t\treturn () => mediaQueryLists.forEach( mql => mql.removeListener( handler ));\n\t\t},\n\t\t[], // Empty array ensures effect is only run on mount and unmount\n\t);\n\n\treturn value;\n}\n","\n// dev\nimport React from \"react\";\nimport { hydrate, render } from \"react-dom\";\nimport { Workbox } from \"workbox-window\";\n\n// app\nimport \"./css/index.css\";\nimport App from \"./views/app\";\n\n//\n// Index \n//\n\nconst rootElement = document.getElementById( \"root\" );\nif ( rootElement.hasChildNodes()) {\n\thydrate( <App />, rootElement );\n} else {\n\trender( <App />, rootElement );\n}\n\nif ( \"serviceWorker\" in navigator ) {\n\tconst wb = new Workbox( \"service-worker.js\" );\n   \n\twb.addEventListener( \"installed\", event => {\n\t\tif ( event.isUpdate ) window.location.reload();\n\t});\n  \n\twb.register();\n}\n"],"sourceRoot":""}