{"version":3,"sources":["logo.png","single-ding-sound-effect.mp3","App.js","index.js"],"names":["audio","Audio","audioFile","App","useState","JSON","parse","localStorage","getItem","savedData","setSavedData","useEffect","lastCompleted","setItem","stringify","currentKey","_","get","secondsRemaining","intervalRef","start","setTimer","t","setInterval","decrementSeconds","pause","clearInterval","reset","timer","_isRunning","Boolean","timeText","floor","currentActivityIndex","findIndex","activitiesList","key","_isFirst","_isLast","size","previousActivity","last","nth","currentActivity","find","head","nextActivity","_handleNext","play","className","src","logo","alt","ceil","onClick","flatten","map","name","unilateral","hasRolling","hasStretch","part","i","output","push","type","label","startCase","activityBuilder","rootElement","document","getElementById","hasChildNodes","hydrate","render"],"mappings":"iNAAe,MAA0B,iCCA1B,MAA0B,qD,OCQnCA,EAAQ,IAAIC,MAAOC,GAQV,SAASC,IAAQ,IAAD,EACMC,mBAAUC,KAAKC,MAAOC,aAAaC,QAAS,eADlD,mBACtBC,EADsB,KACXC,EADW,KAE9BC,qBAAU,WACHF,GAAYC,EAAa,CAAEE,cAAe,OAChDL,aAAaM,QAAS,YAAaR,KAAKS,UAAWL,MACjD,CAAEA,IACL,IAAMM,EAAaC,IAAEC,IAAKR,EAAW,cANP,EAQFL,mBAAS,CACpCc,iBAX8B,IAY9BC,YAAa,KACbC,MAAO,kBAAMC,GAAU,SAAAC,GAAC,kCAAUA,GAAV,IAAaH,YAAaI,YAAaD,EAAEE,iBAAkB,WACnFC,MAAO,kBAAMJ,GAAU,SAAAC,GAEtB,OADAI,cAAeJ,EAAEH,aACV,2BAAKG,GAAZ,IAAeH,YAAa,WAE7BQ,MAAO,kBAAMN,GAAU,SAAAC,GAEtB,OADAI,cAAeJ,EAAEH,aACV,2BAAKG,GAAZ,IAAeH,YAAa,KAAMD,iBApBL,UAsB9BM,iBAAkB,kBAAMH,GAAU,SAAAC,GAAC,kCAAUA,GAAV,IAAaJ,iBAAkBI,EAAEJ,iBAAmB,UApB1D,mBAQtBU,EARsB,KAQfP,EARe,KAsBtBH,EAAuDU,EAAvDV,iBAAkBC,EAAqCS,EAArCT,YAAaC,EAAwBQ,EAAxBR,MAAOK,EAAiBG,EAAjBH,MAAOE,EAAUC,EAAVD,MAC/CE,EAAaC,QAASX,GACtBY,EAAQ,UAAOf,IAAEgB,MAAOd,EAAmB,IAAnC,YAA4CA,EAAiB,GAAK,GAAtB,WAAgCA,EAAiB,IAAQA,EAAiB,IAE9He,EAAuBjB,IAAEkB,UAAWC,EAAgB,CAAEC,IAAKrB,IAE3DsB,EAAoC,IAAzBJ,EACXK,EAAUL,IAAyBjB,IAAEuB,KAAMJ,GAAmB,EAE9DK,EAAmBH,EAAWrB,IAAEyB,KAAMN,GAAmBnB,IAAE0B,IAAKP,EAAgBF,EAAuB,GACvGU,EAAkB5B,EAAaC,IAAE4B,KAAMT,EAAgB,CAAEC,IAAKrB,IAAgBC,IAAE6B,KAAMV,GACtFW,EAAeR,EAAUtB,IAAE6B,KAAMV,GAAmBnB,IAAE0B,IAAKP,EAAgBF,EAAuB,GAElGc,EAAc,WACnBrC,EAAa,2BAAKD,GAAN,IAAiBM,WAAYC,IAAEC,IAAK6B,EAAc,UAC9DnB,KAqBD,OAPAhB,qBAAU,WACJO,GAAoB,IACxBlB,EAAMgD,OACND,OAEC,CAAE7B,IAGJ,sBAAK+B,UAAU,OAAf,UACC,sBAAKA,UAAU,SAAf,UACC,qBAAKC,IAAMC,EAAOC,IAAI,gCACtB,oDAAwBpC,IAAEuB,KAAMJ,GAAhC,2GAA4JnB,IAAEqC,KAAMrC,IAAEuB,KAAMJ,GAAmB,GAA/L,6DAED,sBAAKc,UAAU,UAAf,UACC,oBAAGA,UAAU,WAAb,gCAA6CjC,IAAEC,IAAKuB,EAAkB,YACtE,oDAAwBxB,IAAEC,IAAK0B,EAAiB,YAChD,oBAAGM,UAAU,WAAb,4BAAyCjC,IAAEC,IAAK6B,EAAc,eAE/D,qBAAKG,UAAU,OAAf,SACC,sBAAKA,UAAU,QAAf,UACC,qBAAKA,UAAU,OAAf,SACGlB,IAEH,sBAAKkB,UAAU,WAAf,UACC,wBAAQK,QAAUzB,EAAaF,EA7BhB,WACdE,EAAaF,IACbjB,EAAa,2BAAKD,GAAN,IAAiBM,WAAYC,IAAEC,IAAKuB,EAAkB,WA2BnE,SAAuDX,EAAa,UAAY,SAChF,wBAAQyB,QAAUzB,EAAaJ,EApCf,WACpBL,IACApB,EAAMgD,OACNhD,EAAMyB,SAiCF,SAAwDI,EAAa,QAAU,UAC/E,wBAAQyB,QAAUP,EAAlB,6BAQN,IA2CMZ,EAAiBnB,IAAEuC,QAASvC,IAAEwC,IArBhB,CACnB,CAAEC,KAAM,wBAAyBC,YAAY,EAAOC,YAAY,GAChE,CAAEF,KAAM,SACR,CAAEA,KAAM,OACR,CAAEA,KAAM,OACR,CAAEA,KAAM,sBACR,CAAEA,KAAM,YAAaE,YAAY,GACjC,CAAEF,KAAM,eAAgBC,YAAY,EAAOC,YAAY,GACvD,CAAEF,KAAM,OAAQE,YAAY,GAC5B,CAAEF,KAAM,sBACR,CAAEA,KAAM,WACR,CAAEA,KAAM,UACR,CAAEA,KAAM,QAASE,YAAY,GAC7B,CAAEF,KAAM,iBAAkBE,YAAY,GACtC,CAAEF,KAAM,sBACR,CAAEA,KAAM,QAASG,YAAY,GAC7B,CAAEH,KAAM,eAAgBC,YAAY,EAAOC,YAAY,GACvD,CAAEF,KAAM,QACR,CAAEA,KAAM,OAAQG,YAAY,KAGyB,SAAEC,EAAMC,GAAR,OA3C9B,SAAC,EAAmEA,GAAQ,IAAzEL,EAAwE,EAAxEA,KAAwE,IAAlEG,kBAAkE,aAA/CD,kBAA+C,aAA5BD,WAChEK,EAAS,GAkBf,YAnBkG,UAI5FJ,GAAaI,EAAOC,KACxB,CAAE5B,IAAI,GAAD,OAAMqB,EAAN,uBAA2BK,GAAMG,KAAM,UAAWC,MAAM,mBAAD,OAAsBlD,IAAEmD,UAAWV,KAC/F,CAAErB,IAAI,GAAD,OAAMqB,EAAN,sBAA0BK,GAAMG,KAAM,UAAWC,MAAM,kBAAD,OAAqBlD,IAAEmD,UAAWV,MAGzFG,GAAaG,EAAOC,KACxB,CAAE5B,IAAI,GAAD,OAAMqB,EAAN,0BAA8BK,GAAMG,KAAM,aAAcC,MAAM,iBAAD,OAAoBlD,IAAEmD,UAAWV,KACnG,CAAErB,IAAI,GAAD,OAAMqB,EAAN,yBAA6BK,GAAMG,KAAM,aAAcC,MAAM,gBAAD,OAAmBlD,IAAEmD,UAAWV,QAI7FE,GAAaI,EAAOC,KAAK,CAAE5B,IAAI,GAAD,OAAMqB,EAAN,YAAgBK,GAAMG,KAAM,UAAWC,MAAM,GAAD,OAAMlD,IAAEmD,UAAWV,MAC7FG,GAAaG,EAAOC,KAAK,CAAE5B,IAAI,GAAD,OAAMqB,EAAN,YAAgBK,GAAMG,KAAM,aAAcC,MAAM,GAAD,OAAMlD,IAAEmD,UAAWV,OAG/FM,EAwB6DK,CAAiBP,EAAMC,OCnItFO,EAAcC,SAASC,eAAgB,QACxCF,EAAYG,gBAChBC,kBAAS,cAACtE,EAAD,IAASkE,GAElBK,iBAAQ,cAACvE,EAAD,IAASkE,K","file":"static/js/main.be43875d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.62967c48.png\";","export default __webpack_public_path__ + \"static/media/single-ding-sound-effect.ab26721d.mp3\";","\n// dev\nimport React, { useState, useEffect } from \"react\";\nimport _ from \"lodash\";\n\n// app\nimport logo from \"./logo.png\";\nimport audioFile from \"./single-ding-sound-effect.mp3\";\nconst audio = new Audio( audioFile );\n\n//\n// App\n//\n\nconst activityDurationSeconds = 60 * 2.5;\n\nexport default function App () {\n\tconst [ savedData, setSavedData ] = useState( JSON.parse( localStorage.getItem( \"savedData\" )));\n\tuseEffect(() => {\n\t\tif ( !savedData ) setSavedData({ lastCompleted: null });\n\t\tlocalStorage.setItem( \"savedData\", JSON.stringify( savedData ));\n\t}, [ savedData ]);\n\tconst currentKey = _.get( savedData, \"currentKey\" );\n\t\n\tconst [ timer, setTimer ] = useState({ \n\t\tsecondsRemaining: activityDurationSeconds,\n\t\tintervalRef: null,\n\t\tstart: () => setTimer( t => ({ ...t, intervalRef: setInterval( t.decrementSeconds, 1000 ) })),\n\t\tpause: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null };\n\t\t}),\n\t\treset: () => setTimer( t => {\n\t\t\tclearInterval( t.intervalRef );\n\t\t\treturn { ...t, intervalRef: null, secondsRemaining: activityDurationSeconds };\n\t\t}),\n\t\tdecrementSeconds: () => setTimer( t => ({ ...t, secondsRemaining: t.secondsRemaining - 1 })),\n\t});\n\tconst { secondsRemaining, intervalRef, start, pause, reset } = timer;\n\tconst _isRunning = Boolean( intervalRef );\n\tconst timeText = `${ _.floor( secondsRemaining / 60 )}:${ secondsRemaining%60 < 10 ? `0${ secondsRemaining%60 }` : secondsRemaining%60 }`;\n\n\tconst currentActivityIndex = _.findIndex( activitiesList, { key: currentKey });\n\n\tconst _isFirst = currentActivityIndex === 0;\n\tconst _isLast = currentActivityIndex === _.size( activitiesList ) - 1;\n\n\tconst previousActivity = _isFirst ? _.last( activitiesList ) : _.nth( activitiesList, currentActivityIndex - 1 );\n\tconst currentActivity = currentKey ? _.find( activitiesList, { key: currentKey }) : _.head( activitiesList );\n\tconst nextActivity = _isLast ? _.head( activitiesList ) : _.nth( activitiesList, currentActivityIndex + 1 );\n\n\tconst _handleNext = () => {\n\t\tsetSavedData({ ...savedData, currentKey: _.get( nextActivity, \"key\" ) });\n\t\treset();\n\t};\n\n\tconst _handleStart = () => {\n\t\tstart();\n\t\taudio.play();\n\t\taudio.pause();\n\t};\n\n\tconst _handleBack = () => {\n\t\tif ( _isRunning ) reset();\n\t\telse setSavedData({ ...savedData, currentKey: _.get( previousActivity, \"key\" ) });\n\t};\n\n\tuseEffect(() => { \n\t\tif ( secondsRemaining <= 0 ) {\n\t\t\taudio.play();\n\t\t\t_handleNext();\n\t\t}\n\t}, [ secondsRemaining ]);\n\n\treturn (\n\t\t<div className=\"body\">\n\t\t\t<div className=\"header\">\n\t\t\t\t<img src={ logo } alt=\"Site logo, woman stretching\" />\t\n\t\t\t\t<p>A rolling queue of { _.size( activitiesList ) } stretching and rolling activities with a timer and a record of where you left off last time. Try to do { _.ceil( _.size( activitiesList ) / 7 ) } every day to get through every body part in a week.</p>\n\t\t\t</div>\n\t\t\t<div className=\"current\">\n\t\t\t\t<p className=\"-smaller\">Previous activity: { _.get( previousActivity, \"label\" )}</p>\n\t\t\t\t<h4>Current activity: { _.get( currentActivity, \"label\" )}</h4>\n\t\t\t\t<p className=\"-smaller\">Next activity: { _.get( nextActivity, \"label\" )}</p>\n\t\t\t</div>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"timer\">\n\t\t\t\t\t<div className=\"time\">\n\t\t\t\t\t\t{ timeText }\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"controls\">\n\t\t\t\t\t\t<button onClick={ _isRunning ? reset : _handleBack }>{ _isRunning ? \"Restart\" : \"Back\" }</button>\n\t\t\t\t\t\t<button onClick={ _isRunning ? pause : _handleStart }>{ _isRunning ? \"Pause\" : \"Start\" }</button>\n\t\t\t\t\t\t<button onClick={ _handleNext }>Next</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst activityBuilder = ({ name, hasStretch = true, hasRolling = true, unilateral = true }, i ) => {\n\tconst output = [];\n\n\tif ( unilateral ) {\t\n\t\tif ( hasRolling ) output.push(\n\t\t\t{ key: `${ name }-roll-right-${ i }`, type: \"rolling\", label: `Foam Roll Right ${ _.startCase( name ) }` },\n\t\t\t{ key: `${ name }-roll-left-${ i }`, type: \"rolling\", label: `Foam Roll Left ${ _.startCase( name ) }` },\n\t\t);\n\n\t\tif ( hasStretch ) output.push(\n\t\t\t{ key: `${ name }-stretch-right-${ i }`, type: \"stretching\", label: `Stretch Right ${ _.startCase( name ) }` },\n\t\t\t{ key: `${ name }-stretch-left-${ i }`, type: \"stretching\", label: `Stretch Left ${ _.startCase( name ) }` },\n\t\t);\n\t}\n\telse {\n\t\tif ( hasRolling ) output.push({ key: `${ name }-${ i }`, type: \"rolling\", label: `${ _.startCase( name ) }` });\n\t\tif ( hasStretch ) output.push({ key: `${ name }-${ i }`, type: \"stretching\", label: `${ _.startCase( name ) }` });\n\t}\n\n\treturn output;\n};\n\nconst bodyPartMap = [\n\t{ name: \"standing-pike-stretch\", unilateral: false, hasRolling: false },\n\t{ name: \"glute\" },\n\t{ name: \"lat\" },\n\t{ name: \"pec\" },\n\t{ name: \"quad-couch-stretch\" },\n\t{ name: \"hamstring\", hasRolling: false },\n\t{ name: \"frog-stretch\", unilateral: false, hasRolling: false },\n\t{ name: \"calf\", hasRolling: false },\n\t{ name: \"quad-couch-stretch\" },\n\t{ name: \"forearm\" },\n\t{ name: \"tricep\" },\n\t{ name: \"lotus\", hasRolling: false },\n\t{ name: \"front-shoulder\", hasRolling: false },\n\t{ name: \"quad-couch-stretch\" },\n\t{ name: \"groin\", hasStretch: false },\n\t{ name: \"frog-stretch\", unilateral: false, hasRolling: false },\n\t{ name: \"calf\" },\n\t{ name: \"trap\", hasStretch: false },\n];\n\nconst activitiesList = _.flatten( _.map( bodyPartMap, ( part, i ) => activityBuilder( part, i )));\n","\n// dev\nimport React from \"react\";\nimport { hydrate, render } from \"react-dom\";\n\n// app\nimport \"./index.scss\";\nimport App from \"./App\";\n\n//\n// Index \n//\n\nconst rootElement = document.getElementById( \"root\" );\nif ( rootElement.hasChildNodes()) {\n\thydrate( <App />, rootElement );\n} else {\n\trender( <App />, rootElement );\n}\n"],"sourceRoot":""}